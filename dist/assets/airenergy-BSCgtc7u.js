import{_ as b,o as p,c as v,s as t,A as C,C as D,d as u,k as y,l as k,q as a,u as i,B as r,a as e}from"./index-CGjQSwQ5.js";const w={class:"BarChart"},B={__name:"columnChart",props:{chartData:{type:Object,default:()=>({responsive:!0,maintainAspectRatio:!1,layout:{padding:{top:0,bottom:0,left:0,right:0}},plugins:{legend:{display:!0},title:{display:!0,text:"Energy Consumption Overview"}},scales:{x:{ticks:{autoSkip:!0,maxRotation:0,minRotation:0},grid:{display:!1}},y:{beginAtZero:!0,ticks:{stepSize:10,padding:10},grid:{color:"#e0e0e0"}}}}),required:!0}},setup(d){return(n,c)=>(p(),v("div",w,[t(C(D),{chartData:d.chartData},null,8,["chartData"])]))}},h=b(B,[["__scopeId","data-v-457f0939"]]),x="/assets/air-open-Dz3cfW7X.png",A=e("h3",null,"会议室",-1),E=e("img",{src:x,style:{width:"100%"}},null,-1),S=e("h4",null,"空调状态:",-1),V=e("h4",null,"设定温度:",-1),j=e("h4",null,"空调状态:",-1),R=e("h4",null,"有无人员:",-1),W=e("h4",null,"运行计划:",-1),q=e("h4",null,null,-1),z=e("h4",null,"今日用电",-1),N=e("h4",null,"本月用电",-1),O=e("h4",null,"今年用电",-1),F={__name:"airenergy",setup(d){const n=u({labels:[],datasets:[{label:"Average Voltage (Volts)",borderColor:"rgb(255, 99, 132)",backgroundColor:"rgba(255, 99, 132, 0.5)",data:[],fill:!0},{label:"Average Power (Watts)",borderColor:"rgb(54, 162, 235)",backgroundColor:"rgba(54, 162, 235, 0.5)",data:[],fill:!0},{label:"Sum Energy (kWh)",borderColor:"rgb(75, 192, 192)",backgroundColor:"rgba(75, 192, 192, 0.5)",data:[],fill:!0}]}),c={labels:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],datasets:[{label:"月份",data:[40,20,12,30,40],backgroundColor:"#123E6B"}]};u("Device Status"),u(380);const g=async()=>{try{const o=await(await fetch("https://www.njbinhui.cn/api/metrics/aggregate?startDate=2024-04-23%2000:00:00&endDate=2024-04-25%2000:00:00&interval=hour")).json();f(o)}catch(s){console.error("Failed to fetch data:",s)}},f=s=>{n.value.labels=s.map(o=>o.interval_start),n.value.datasets[0].data=s.map(o=>o.avg_vol_a),n.value.datasets[1].data=s.map(o=>o.avg_power_total),n.value.datasets[2].data=s.map(o=>o.sum_energy)};return y(()=>{g()}),(s,o)=>{const l=i("v-col"),_=i("v-row"),m=i("v-container");return p(),k(m,{fluid:""},{default:a(()=>[t(_,null,{default:a(()=>[t(l,{cols:"1",class:"left-column"},{default:a(()=>[A,E,S,V,j,R,W,q]),_:1}),t(l,{cols:"11"},{default:a(()=>[t(_,null,{default:a(()=>[t(l,{cols:"3"},{default:a(()=>[t(r,{title:"报警情况"},{content:a(()=>[z,N,O]),_:1})]),_:1}),t(l,null,{default:a(()=>[t(r,{title:"报警情况"},{content:a(()=>[]),_:1})]),_:1})]),_:1}),t(_,{"no-gutters":""},{default:a(()=>[t(l,{cols:"12"},{default:a(()=>[t(r,{title:"用电量"},{content:a(()=>[t(h,{chartData:c})]),_:1})]),_:1}),t(l,{cols:"12"},{default:a(()=>[t(r,{title:"运行时间"},{content:a(()=>[t(h,{chartData:c})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}};export{F as default};
